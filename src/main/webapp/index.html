<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<title>Jquery图片上传</title>
<script src="util/jquery.1.9.1.min.js"></script>
<script src="plugins/js/vendor/jquery.ui.widget.js"></script>
<script src="plugins/js/jquery.iframe-transport.js"></script>
<script src="plugins/js/jquery.fileupload.js"></script>
<script>
	$(function () {
		//初始化默认参数
		$("#imgShow").attr("src","util/none.png");
		$("#resultCode").html("尚未上传");
		$("#imgLabel").html("none");
		//上传
	    $('#fileupload').fileupload({
	    	url:'/pic/upload',
	    	multiple: false,
	        dataType: 'json',
	        done: function (e, data) {
	        	if(data.result.code=="0"){
	        		var fullImgPath=data.result.data.fullPath;
	    			$("#imgShow").attr("src",fullImgPath);
	    			$("#imgHref").attr("href",fullImgPath);
	    			$("#imgLabel").html(fullImgPath);
	    			$("#resultCode").html(data.result.code);
	        	}
	        }
	    });
	});
</script>
</head>
<body>
<div style="width:500px;margin:auto;padding-top:50px;text-align:center">
		<b>springBoot图片上传Demo-<span style="color:blue">jQuery无刷新上传(非跨域)</span></b>
	</div>
	<hr/>
	<div style="width:400px;margin:auto">
		<input id="fileupload" type="file" name="imgUpload" ><br/><br/>
		<b>上传结果编码：</b><label id="resultCode"></label><br/><br/>
	</div>
	<hr/>
	<div style="text-align:center">
		<b>图片地址：</b><label id="imgLabel"></label><br/><br/>
		<a id="imgHref" href="#" target="_blank"><img id="imgShow"/></a>
	</div>
</body> 
</html>